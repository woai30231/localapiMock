import{d as _,e as g,c as m,v as h,G as V,f as v,H as C,u as a,t as p,o as c,I as F,p as $,F as x,j as D,i as U,w as d,b as k,r as f,E as T,m as L,a as o,k as I,h as S,J as N}from"./index-DPbHrZ8z.js";import{r as j}from"./request-A9d_nI3i.js";import{u as M}from"./cartStore-CyZldXG9.js";function q(u){const e=_(u),l=_({});function n(r){let s=!0;for(const t in r){const i=r[t],b=e.value[t],y=i(b);y?(l.value[t]=y,s=!1):delete l.value[t]}return s}return{formData:e,errors:l,validateForm:n}}const O={key:0,style:{color:"red"}},R={key:1,style:{color:"red"}},H=g({__name:"One",setup(u){const{formData:e,errors:l,validateForm:n}=q({username:"",password:""});function r(){n({username:t=>t.trim()===""?"用户名不能为空":null,password:t=>t.length<6?"密码至少6位":null})&&alert("验证通过，可以提交")}return(s,t)=>(c(),m("div",null,[h(v("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>a(e).username=i),placeholder:"用户名"},null,512),[[C,a(e).username]]),a(l).username?(c(),m("span",O,p(a(l).username),1)):V("",!0),h(v("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>a(e).password=i),placeholder:"密码"},null,512),[[C,a(e).password]]),a(l).password?(c(),m("span",R,p(a(l).password),1)):V("",!0),v("button",{onClick:r},"登录")]))}});function Q(u,e){const l=_(""),n=F(()=>u.filter(r=>String(r[e]).toLowerCase().includes(l.value.toLowerCase())));return{searchQuery:l,filteredItems:n}}const A=g({__name:"Three",setup(u){const e=[{id:1,name:"Alice",role:"admin"},{id:2,name:"Bob",role:"editor"},{id:3,name:"Charlie",role:"guest"}],{searchQuery:l,filteredItems:n}=Q(e,"name");return(r,s)=>(c(),m("div",null,[h(v("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>$(l)?l.value=t:null),placeholder:"输入姓名搜索"},null,512),[[C,a(l)]]),v("ul",null,[(c(!0),m(x,null,D(a(n),t=>(c(),m("li",{key:t.id},p(t.name)+" - "+p(t.role),1))),128))])]))}});function J(u){const e=_(null),l=_(!0),n=_(null);return fetch(u).then(r=>r.json()).then(r=>{e.value=r}).catch(r=>{n.value=r.message}).finally(()=>{l.value=!1}),{data:e,loading:l,error:n}}const G={key:0},z={key:1,style:{color:"red"}},K={key:2},P=g({__name:"Two",setup(u){const{data:e,loading:l,error:n}=J("/api/userlist");return(r,s)=>a(l)?(c(),m("div",G,"加载中……")):a(l)?(c(),m("div",z,p(a(n)),1)):(c(),m("ul",K,[(c(!0),m(x,null,D(a(e),t=>(c(),m("li",{key:t.id},p(t.name)+" - "+p(t.email),1))),128))]))}});function W(u){const e=_(u),l=_(!1);function n(){l.value=!0;const r=setInterval(()=>{e.value--,e.value<=0&&(clearInterval(r),l.value=!1,e.value=u)},1e3)}return{count:e,isRunning:l,start:n}}const X={key:0},Y=g({__name:"Four",setup(u){const e=_(60),{count:l,isRunning:n,start:r}=W(e.value),s=()=>{T.info("验证码已经发送成功"),r()};return(t,i)=>{const b=f("el-button");return c(),m("div",null,[a(n)?(c(),m("p",X,p(a(l))+"秒可以再次点击",1)):V("",!0),a(n)?V("",!0):(c(),U(b,{key:1,onClick:a(r)},{default:d(()=>i[0]||(i[0]=[k("点击进入倒计时",-1)])),_:1,__:[0]},8,["onClick"])),v("div",{onClick:s},p(a(n)?a(l)+"秒后可以重发":"发送验证码"),1)])}}});function Z(u,e){const l=localStorage.getItem(u),n=_(l?JSON.stringify(l):e);return L(n,r=>{localStorage.setItem(u,r)},{deep:!0}),n}const ee=g({__name:"Five",setup(u){const e=Z("username","");return(l,n)=>{const r=f("el-input");return c(),m(x,null,[o(r,{modelValue:a(e),"onUpdate:modelValue":n[0]||(n[0]=s=>$(e)?e.value=s:null),placeholder:"请输入用户名"},null,8,["modelValue"]),v("p",null,"当前保存的用户名："+p(a(e)),1)],64)}}});function te(){const u=_(!1),e=_(null);return{isLoading:u,data:e,operate:()=>{u.value||(u.value=!0,e.value={name:"xiaoming",email:"xx@xx.com"},setTimeout(()=>{u.value=!1},5e3))}}}const le={key:0},ne=g({__name:"Six",setup(u){const{isLoading:e,data:l,operate:n}=te();return(r,s)=>{const t=f("el-button");return c(),m("div",null,[a(l)?(c(),m("div",le,"数据："+p(a(l)),1)):V("",!0),o(t,{onClick:a(n)},{default:d(()=>[k(p(a(e)?"正在请求数据中……":"模拟请求接口"),1)]),_:1},8,["onClick"])])}}});function oe(u){const e=_(null),l=_(null),n=_(!0);return I(async()=>{try{console.log("走这里了吗jjfajfljaljflj");const s=await j.get(u.url,{params:u.params});console.log(s),e.value=s.data}catch(s){l.value=s}finally{n.value=!1}}),{data:e,error:l,loading:n}}const ae={key:0},re={key:1},se=g({__name:"Seven",setup(u){const{data:e,loading:l,error:n}=oe({url:"/api/userlist"});return(r,s)=>{const t=f("el-table-column"),i=f("el-table");return c(),m("div",null,[s[0]||(s[0]=v("h1",null,"Users list",-1)),o(i,{data:a(e),style:{width:"100%"}},{default:d(()=>[o(t,{prop:"id",width:"100",label:"ID"}),o(t,{prop:"name",width:"100",label:"Name"}),o(t,{prop:"email",width:"100",label:"Email"})]),_:1},8,["data"]),a(l)?(c(),m("p",ae,"loading……")):a(n)?(c(),m("p",re,"Error:"+p(a(n).message),1)):V("",!0)])}}});function ue(u){const e=S({}),l=s=>{const t=u[s],i=t.rules.map(b=>b(t.value)).filter(Boolean);e[s]=i[0]||void 0},n=()=>{Object.keys(u).forEach(s=>l(s))},r=F(()=>(n(),Object.values(e).every(s=>!s)));return{formState:u,errors:e,validateField:l,validateAll:n,isFormValid:r}}const ie=g({__name:"Eight",setup(u){const e=S({username:{value:"",rules:[t=>t?void 0:"username is required",t=>t.length>=3?void 0:"username must be at least 3 characters long"]},email:{value:"",rules:[t=>t?void 0:"Email is required",t=>/.+@.+\..+/.test(t)?void 0:"please enter a valid email address"]},password:{value:"",rules:[t=>t?void 0:"password is required!",t=>t.length>=6?void 0:"password must be at least 6 characters long"]}}),{errors:l,validateField:n,isFormValid:r}=ue(e),s=()=>{r.value?console.log("Form submitted",e):console.log("Form validation failed")};return(t,i)=>{const b=f("el-input"),y=f("el-form-item"),B=f("el-button"),E=f("el-form");return c(),m("div",null,[i[7]||(i[7]=v("h1",null,"Register Form",-1)),o(E,{model:e,"label-width":"200px"},{default:d(()=>[o(y,{label:"Username",error:a(l).username},{default:d(()=>[o(b,{modelValue:e.username.value,"onUpdate:modelValue":i[0]||(i[0]=w=>e.username.value=w),onBlur:i[1]||(i[1]=w=>a(n)("username"))},null,8,["modelValue"])]),_:1},8,["error"]),o(y,{label:"Email",error:a(l).email},{default:d(()=>[o(b,{modelValue:e.email.value,"onUpdate:modelValue":i[2]||(i[2]=w=>e.email.value=w),onBlur:i[3]||(i[3]=w=>a(n)("email"))},null,8,["modelValue"])]),_:1},8,["error"]),o(y,{label:"password",error:a(l).password},{default:d(()=>[o(b,{modelValue:e.password.value,"onUpdate:modelValue":i[4]||(i[4]=w=>e.password.value=w),type:"password",onBlur:i[5]||(i[5]=w=>a(n)("password"))},null,8,["modelValue"])]),_:1},8,["error"]),o(y,null,{default:d(()=>[o(B,{type:"primary",onClick:s,disabled:!a(r)},{default:d(()=>i[6]||(i[6]=[k("Submit",-1)])),_:1,__:[6]},8,["disabled"])]),_:1})]),_:1},8,["model"])])}}});function de(u=0){const e=_(u);return{count:e,increment:()=>{e.value++},decrement:()=>{e.value--},reset:()=>{e.value=u}}}const ce=g({__name:"Nine",setup(u){const{count:e,reset:l,increment:n,decrement:r}=de(8);return(s,t)=>{const i=f("el-button"),b=f("el-button-group");return c(),m("div",null,[v("p",null,"当前count值："+p(a(e)),1),o(b,null,{default:d(()=>[o(i,{onClick:a(n)},{default:d(()=>t[0]||(t[0]=[k(" 加- ",-1)])),_:1,__:[0]},8,["onClick"]),o(i,{onClick:a(r)},{default:d(()=>t[1]||(t[1]=[k(" 减一 ",-1)])),_:1,__:[1]},8,["onClick"]),o(i,{onClick:a(l)},{default:d(()=>t[2]||(t[2]=[k(" 重置 ",-1)])),_:1,__:[2]},8,["onClick"])]),_:1})])}}});function me(u){const e=_(null),l=_(!1),n=_("");return{data:e,errorMsg:n,loading:l,getData:async()=>{const s=await j.get(u.url,{params:{...u.data}});console.log(s),e.value=s.data,n.value="",l.value=!1}}}const _e=g({__name:"Ten",setup(u){const{data:e,getData:l}=me({url:"/api/user",data:{id:"1888"}});return I(()=>{l()}),(n,r)=>{const s=f("el-row");return c(),m("div",null,[r[0]||(r[0]=v("p",null,"user信息如下",-1)),a(e)?(c(),m(x,{key:0},[o(s,null,{default:d(()=>[k(p(a(e).name),1)]),_:1}),o(s,null,{default:d(()=>[k(p(a(e).email),1)]),_:1}),o(s,null,{default:d(()=>[k(p(a(e).address),1)]),_:1})],64)):V("",!0)])}}});function pe(u,e=500){const l=_(u);let n=0;const r=s=>{clearTimeout(n),n=setTimeout(()=>{l.value=s},e)};return N(()=>{clearTimeout(n)}),[l.value,r]}const fe=g({__name:"Hook11",setup(u){const[e,l]=pe("",500);return(n,r)=>{const s=f("el-input");return c(),U(s,{modelValue:a(e),"onUpdate:modelValue":r[0]||(r[0]=t=>$(e)?e.value=t:null),onInput:a(l),placeholder:"输入搜索内容"},null,8,["modelValue","onInput"])}}}),ve={style:{padding:"20px 40px"}},we=g({__name:"HooksDemo",setup(u){const e=M();return(l,n)=>{const r=f("el-table-column"),s=f("el-table"),t=f("el-card");return c(),m("div",ve,[n[1]||(n[1]=v("h2",null,"vue hooks使用",-1)),o(t,null,{default:d(()=>[n[0]||(n[0]=v("h4",null,"pinia 用户购物车数据",-1)),o(s,{data:a(e).items},{default:d(()=>[o(r,{label:"id",prop:"id"}),o(r,{label:"name",prop:"name"}),o(r,{label:"price",prop:"price"})]),_:1},8,["data"])]),_:1,__:[0]}),o(t,null,{default:d(()=>[o(H)]),_:1}),o(t,null,{default:d(()=>[o(P)]),_:1}),o(t,null,{default:d(()=>[o(A)]),_:1}),o(t,null,{default:d(()=>[o(Y)]),_:1}),o(t,null,{default:d(()=>[o(ee)]),_:1}),o(t,null,{default:d(()=>[o(ne)]),_:1}),o(t,null,{default:d(()=>[o(se)]),_:1}),o(t,null,{default:d(()=>[o(ie)]),_:1}),o(t,null,{default:d(()=>[o(ce)]),_:1}),o(t,null,{default:d(()=>[o(_e)]),_:1}),o(t,null,{default:d(()=>[o(fe)]),_:1})])}}});export{we as default};
