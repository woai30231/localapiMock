import{e as v,h as F,d as f,c as y,f as i,a as l,r as m,w as u,b as C,v as b,L as w,o as x,A as U,k as h}from"./index-kiiUz8DB.js";import{r as k}from"./request-C7mUnLKg.js";const P={action:"/api/signup",method:"POST"},z=v({__name:"RegisterForm",setup(V,{expose:p}){const _={username:[{required:!0,message:"Please input your username",trigger:"blur"},{min:3,max:50,message:"Length should be between 3 and 50",trigger:"blur"}],email:[{required:!0,message:"Please input your email",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:"blur"}],password:[{required:!0,message:"Please input your password",trigger:"blur"},{min:6,message:"Password must be at least 6 characters long",trigger:"blur"}]},e=F({username:"",email:"",password:""}),s=f(null),g=()=>{s.value.validate(async d=>{if(d){console.log("Form submitted;",e);const{username:t,email:o,password:a}=e,r=new FormData;r.append("username",t),r.append("email",o),r.append("password",a);const c=await k.post("/api/signup",r);console.log(c)}else return console.log("Form validation failed"),!1})};return p({submitForm:g,form:e}),(d,t)=>{const o=m("el-input"),a=m("el-form-item"),r=m("el-button"),c=m("el-form");return x(),y("div",null,[t[8]||(t[8]=i("h1",null,"Register Form",-1)),l(c,{model:e,rules:_,ref_key:"registerForm",ref:s,"label-width":"100px"},{default:u(()=>[l(a,{label:"Username",prop:"username"},{default:u(()=>[l(o,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=n=>e.username=n)},null,8,["modelValue"])]),_:1}),l(a,{label:"Email",prop:"email"},{default:u(()=>[l(o,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=n=>e.email=n)},null,8,["modelValue"])]),_:1}),l(a,{label:"Password",prop:"password"},{default:u(()=>[l(o,{modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=n=>e.password=n),type:"password"},null,8,["modelValue"])]),_:1}),l(a,null,{default:u(()=>[l(r,{type:"primary",onClick:g},{default:u(()=>[...t[6]||(t[6]=[C("Submit",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),i("form",P,[b(i("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=n=>e.username=n),name:"username"},null,512),[[w,e.username]]),b(i("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=n=>e.email=n),name:"email"},null,512),[[w,e.email]]),b(i("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=n=>e.password=n),name:"password"},null,512),[[w,e.password]]),t[7]||(t[7]=i("input",{type:"submit",text:"提交"},null,-1))])])}}}),S=v({__name:"UserList",setup(V){const p=Array.from({length:100},(o,a)=>({id:a+1,name:`User ${a+1}`,email:`${a+1}@example.com`,age:Math.floor(Math.random()*100)})),_=f(100),e=f(1),s=f(10),g=o=>{s.value=o,e.value=1},d=o=>{e.value=o},t=U(()=>{const o=(e.value-1)*s.value,a=o+s.value;return p.slice(o,a)});return(o,a)=>{const r=m("el-table-column"),c=m("el-table"),n=m("el-pagination");return x(),y("div",null,[a[0]||(a[0]=i("h1",null," User List ",-1)),l(c,{data:t.value,style:{width:"540px"}},{default:u(()=>[l(r,{prop:"name",label:"Name",width:"180"}),l(r,{prop:"email",label:"Email",width:"180"}),l(r,{prop:"age",label:"Age",width:"180"})]),_:1},8,["data"]),l(n,{onSizeChange:g,onCurrentChange:d,"current-page":e.value,"page-sizes":[10,20,30,40],"page-size":s.value,layout:"total,sizes,prev,pager,next,jumper",total:_.value},null,8,["current-page","page-size","total"])])}}}),L=v({__name:"TspracticeThree",setup(V){const p=f(null),_=()=>{p.value?.submitForm(),console.log(p.value?.form)};return h(()=>{}),(e,s)=>{const g=m("el-button"),d=m("el-card");return x(),y("div",null,[s[1]||(s[1]=i("h1",null,"ts 组件化",-1)),l(d,null,{default:u(()=>[l(z,{ref_key:"childForm",ref:p},null,512),l(g,{onClick:_},{default:u(()=>[...s[0]||(s[0]=[C("点击",-1)])]),_:1})]),_:1}),l(d,null,{default:u(()=>[l(S)]),_:1})])}}});export{L as default};
