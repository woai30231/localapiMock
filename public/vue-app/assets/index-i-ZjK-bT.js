import{X,Y as G,m as x,Z as H,$ as U,d as W,a0 as z,I as D,V as w,U as M,l as C,u as K,k as Y,a1 as Z}from"./index-BZp4OzFK.js";function I(e){return X()?(G(e),!0):!1}const B=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J=e=>e!=null,Q=Object.prototype.toString,ee=e=>Q.call(e)==="[object Object]",S=()=>{},te=ne();function ne(){var e,n;return B&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window?.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function ye(...e){if(e.length!==1)return H(...e);const n=e[0];return typeof n=="function"?U(z(()=>({get:n,set:S}))):W(n)}function oe(e,n=!1,t="Timeout"){return new Promise((r,s)=>{setTimeout(n?()=>s(t):r,e)})}function re(e){return e}function F(e){return Array.isArray(e)?e:[e]}function ie(e,n,t){return x(e,n,{...t,immediate:!0})}const R=B?window:void 0,ue=B?window.document:void 0,le=B?window.navigator:void 0;function P(e){var n;const t=w(e);return(n=t?.$el)!=null?n:t}function E(...e){const n=[],t=()=>{n.forEach(i=>i()),n.length=0},r=(i,u,c,o)=>(i.addEventListener(u,c,o),()=>i.removeEventListener(u,c,o)),s=D(()=>{const i=F(w(e[0])).filter(u=>u!=null);return i.every(u=>typeof u!="string")?i:void 0}),l=ie(()=>{var i,u;return[(u=(i=s.value)==null?void 0:i.map(c=>P(c)))!=null?u:[R].filter(c=>c!=null),F(w(s.value?e[1]:e[0])),F(K(s.value?e[2]:e[1])),w(s.value?e[3]:e[2])]},([i,u,c,o])=>{if(t(),!i?.length||!u?.length||!c?.length)return;const v=ee(o)?{...o}:o;n.push(...i.flatMap(m=>u.flatMap(h=>c.map(g=>r(m,h,g,v)))))},{flush:"post"}),f=()=>{l(),t()};return I(t),f}let q=!1;function be(e,n,t={}){const{window:r=R,ignore:s=[],capture:l=!0,detectIframe:f=!1,controls:i=!1}=t;if(!r)return i?{stop:S,cancel:S,trigger:S}:S;if(te&&!q){q=!0;const d={passive:!0};Array.from(r.document.body.children).forEach(a=>a.addEventListener("click",S,d)),r.document.documentElement.addEventListener("click",S,d)}let u=!0;const c=d=>w(s).some(a=>{if(typeof a=="string")return Array.from(r.document.querySelectorAll(a)).some(p=>p===d.target||d.composedPath().includes(p));{const p=P(a);return p&&(d.target===p||d.composedPath().includes(p))}});function o(d){const a=w(d);return a&&a.$.subTree.shapeFlag===16}function v(d,a){const p=w(d),y=p.$.subTree&&p.$.subTree.children;return y==null||!Array.isArray(y)?!1:y.some(b=>b.el===a.target||a.composedPath().includes(b.el))}const m=d=>{const a=P(e);if(d.target!=null&&!(!(a instanceof Element)&&o(e)&&v(e,d))&&!(!a||a===d.target||d.composedPath().includes(a))){if("detail"in d&&d.detail===0&&(u=!c(d)),!u){u=!0;return}n(d)}};let h=!1;const g=[E(r,"click",d=>{h||(h=!0,setTimeout(()=>{h=!1},0),m(d))},{passive:!0,capture:l}),E(r,"pointerdown",d=>{const a=P(e);u=!c(d)&&!!(a&&!d.composedPath().includes(a))},{passive:!0}),f&&E(r,"blur",d=>{setTimeout(()=>{var a;const p=P(e);((a=r.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!p?.contains(r.document.activeElement)&&n(d)},0)},{passive:!0})].filter(Boolean),L=()=>g.forEach(d=>d());return i?{stop:L,cancel:()=>{u=!1},trigger:d=>{u=!0,m(d),u=!1}}:L}function ae(){const e=M(!1),n=Z();return n&&Y(()=>{e.value=!0},n),e}function j(e){const n=ae();return D(()=>(n.value,!!e()))}function se(e,n,t={}){const{window:r=R,...s}=t;let l;const f=j(()=>r&&"MutationObserver"in r),i=()=>{l&&(l.disconnect(),l=void 0)},u=D(()=>{const m=w(e),h=F(m).map(P).filter(J);return new Set(h)}),c=x(()=>u.value,m=>{i(),f.value&&m.size&&(l=new MutationObserver(n),m.forEach(h=>l.observe(h,s)))},{immediate:!0,flush:"post"}),o=()=>l?.takeRecords(),v=()=>{c(),i()};return I(v),{isSupported:f,stop:v,takeRecords:o}}function Te(e,n,t={}){const{window:r=R,document:s=r?.document,flush:l="sync"}=t;if(!r||!s)return S;let f;const i=o=>{f?.(),f=o},u=C(()=>{const o=P(e);if(o){const{stop:v}=se(s,m=>{m.map(g=>[...g.removedNodes]).flat().some(g=>g===o||g.contains(o))&&n(m)},{window:r,childList:!0,subtree:!0});i(v)}},{flush:l}),c=()=>{u(),i()};return I(c),c}function ce(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function Ae(...e){let n,t,r={};e.length===3?(n=e[0],t=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,t=e[0],r=e[1]):(n=e[0],t=e[1]):(n=!0,t=e[0]);const{target:s=R,eventName:l="keydown",passive:f=!1,dedupe:i=!1}=r,u=ce(n);return E(s,l,o=>{o.repeat&&w(i)||u(o)&&t(o)},f)}const fe=500,de=10;function Ee(e,n,t){var r,s;const l=D(()=>P(e));let f,i,u,c=!1;function o(){f&&(clearTimeout(f),f=void 0),i=void 0,u=void 0,c=!1}function v(a){var p,y,b;const[T,_,A]=[u,i,c];if(o(),!t?.onMouseUp||!_||!T||(p=t?.modifiers)!=null&&p.self&&a.target!==l.value)return;(y=t?.modifiers)!=null&&y.prevent&&a.preventDefault(),(b=t?.modifiers)!=null&&b.stop&&a.stopPropagation();const O=a.x-_.x,k=a.y-_.y,$=Math.sqrt(O*O+k*k);t.onMouseUp(a.timeStamp-T,$,A)}function m(a){var p,y,b,T;(p=t?.modifiers)!=null&&p.self&&a.target!==l.value||(o(),(y=t?.modifiers)!=null&&y.prevent&&a.preventDefault(),(b=t?.modifiers)!=null&&b.stop&&a.stopPropagation(),i={x:a.x,y:a.y},u=a.timeStamp,f=setTimeout(()=>{c=!0,n(a)},(T=t?.delay)!=null?T:fe))}function h(a){var p,y,b,T;if((p=t?.modifiers)!=null&&p.self&&a.target!==l.value||!i||t?.distanceThreshold===!1)return;(y=t?.modifiers)!=null&&y.prevent&&a.preventDefault(),(b=t?.modifiers)!=null&&b.stop&&a.stopPropagation();const _=a.x-i.x,A=a.y-i.y;Math.sqrt(_*_+A*A)>=((T=t?.distanceThreshold)!=null?T:de)&&o()}const g={capture:(r=t?.modifiers)==null?void 0:r.capture,once:(s=t?.modifiers)==null?void 0:s.once},L=[E(l,"pointerdown",m,g),E(l,"pointermove",h,g),E(l,["pointerup","pointerleave"],v,g)];return()=>L.forEach(a=>a())}function ve(){const{activeElement:e,body:n}=document;if(!e||e===n)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}function me({keyCode:e,metaKey:n,ctrlKey:t,altKey:r}){return n||t||r?!1:e>=48&&e<=57||e>=96&&e<=105||e>=65&&e<=90}function _e(e,n={}){const{document:t=ue}=n;t&&E(t,"keydown",s=>{!ve()&&me(s)&&e(s)},{passive:!0})}function pe(e,n={}){const{immediate:t=!0,fpsLimit:r=void 0,window:s=R,once:l=!1}=n,f=M(!1),i=D(()=>r?1e3/w(r):null);let u=0,c=null;function o(h){if(!f.value||!s)return;u||(u=h);const g=h-u;if(i.value&&g<i.value){c=s.requestAnimationFrame(o);return}if(u=h,e({delta:g,timestamp:h}),l){f.value=!1,c=null;return}c=s.requestAnimationFrame(o)}function v(){!f.value&&s&&(f.value=!0,u=0,c=s.requestAnimationFrame(o))}function m(){f.value=!1,c!=null&&s&&(s.cancelAnimationFrame(c),c=null)}return t&&v(),I(m),{isActive:U(f),pause:m,resume:v}}function Se(e={}){const{navigator:n=le}=e,t=["chargingchange","chargingtimechange","dischargingtimechange","levelchange"],r=j(()=>n&&"getBattery"in n&&typeof n.getBattery=="function"),s=M(!1),l=M(0),f=M(0),i=M(1);let u;function c(){s.value=this.charging,l.value=this.chargingTime||0,f.value=this.dischargingTime||0,i.value=this.level}return r.value&&n.getBattery().then(o=>{u=o,c.call(u),E(u,t,c,{passive:!0})}),{isSupported:r,charging:s,chargingTime:l,dischargingTime:f,level:i}}function Pe(e){var n;const t=M(0);if(typeof performance>"u")return t;const r=(n=void 0)!=null?n:10;let s=performance.now(),l=0;return pe(()=>{if(l+=1,l>=r){const f=performance.now(),i=f-s;t.value=Math.round(1e3/(i/l)),s=f,l=0}}),t}function he([e,n,t,r]){const s=(o,v)=>1-3*v+3*o,l=(o,v)=>3*v-6*o,f=o=>3*o,i=(o,v,m)=>((s(v,m)*o+l(v,m))*o+f(v))*o,u=(o,v,m)=>3*s(v,m)*o*o+2*l(v,m)*o+f(v),c=o=>{let v=o;for(let m=0;m<4;++m){const h=u(v,e,t);if(h===0)return v;const g=i(v,e,t)-o;v-=g/h}return v};return o=>e===n&&t===r?o:i(c(o),n,r)}function N(e,n,t){return e+t*(n-e)}function V(e){return(typeof e=="number"?[e]:e)||[]}function we(e,n,t,r={}){var s,l;const{window:f=R}=r,i=w(n),u=w(t),c=V(i),o=V(u),v=(s=w(r.duration))!=null?s:1e3,m=Date.now(),h=Date.now()+v,g=typeof r.transition=="function"?r.transition:(l=w(r.transition))!=null?l:re,L=typeof g=="function"?g:he(g);return new Promise(d=>{e.value=i;const a=()=>{var p;if((p=r.abort)!=null&&p.call(r)){d();return}const y=Date.now(),b=L((y-m)/v),T=V(e.value).map((_,A)=>N(c[A],o[A],b));Array.isArray(e.value)?e.value=T.map((_,A)=>{var O,k;return N((O=c[A])!=null?O:0,(k=o[A])!=null?k:0,b)}):typeof e.value=="number"&&(e.value=T[0]),y<h?f?.requestAnimationFrame(a):(e.value=u,d())};a()})}function Me(e,n={}){let t=0;const r=()=>{const l=w(e);return typeof l=="number"?l:l.map(w)},s=W(r());return x(r,async l=>{var f,i;if(w(n.disabled))return;const u=++t;if(n.delay&&await oe(w(n.delay)),u!==t)return;const c=Array.isArray(l)?l.map(w):w(l);(f=n.onStarted)==null||f.call(n),await we(s,s.value,c,{...n,abort:()=>{var o;return u!==t||((o=n.abort)==null?void 0:o.call(n))}}),(i=n.onFinished)==null||i.call(n)},{deep:!0}),x(()=>w(n.disabled),l=>{l&&(t++,s.value=r())}),I(()=>{t++}),D(()=>w(n.disabled)?r():s.value)}export{Te as a,Ae as b,_e as c,Se as d,I as e,F as f,ee as g,B as h,te as i,Ee as j,Pe as k,pe as l,be as o,ye as t,Me as u,ie as w};
