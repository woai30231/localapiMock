import{N as y,e as g,c as d,a as t,r as i,w as a,f as n,t as u,u as s,b as C,o as c,F as h,j as k,O as w,P as S,i as b}from"./index-kiiUz8DB.js";import{r as V}from"./request-C7mUnLKg.js";import{u as T}from"./cartStore-Yr7X8uG_.js";const U=y("user",{state:()=>({user:null,loading:!1,error:null}),actions:{async fetchUser(f){this.loading=!0;try{const e=await V.get("/api/user");this.user=e.data}catch{this.error="获取用户失败"}finally{this.loading=!1}}}}),$=g({__name:"one",setup(f){const e=U();return(_,l)=>{const o=i("el-button"),m=i("el-row"),p=i("el-card");return c(),d("div",null,[t(p,null,{default:a(()=>[l[1]||(l[1]=n("h3",null,"用户信息",-1)),n("div",null,[n("p",null,"用户名:"+u(s(e).user?.name),1),n("p",null,"邮箱："+u(s(e).user?.email),1),n("p",null,"地址："+u(s(e).user?.address),1)]),t(m,null,{default:a(()=>[t(o,{onClick:s(e).fetchUser},{default:a(()=>[...l[0]||(l[0]=[C("加载用户信息",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])}}}),q=g({__name:"two",setup(f){const e=T(),_=[{id:1,name:"手机",price:2999},{id:2,name:"耳机",price:199},{id:3,name:"键盘",price:89}];return(l,o)=>{const m=i("el-button"),p=i("el-card"),x=i("el-input-number");return c(),d("div",null,[o[2]||(o[2]=n("h3",null,"商品列表",-1)),(c(),d(h,null,k(_,r=>n("div",{key:r.id},[t(p,null,{default:a(()=>[n("h4",null,u(r.name),1),n("p",null,"价格："+u(r.price),1),t(m,{onClick:v=>s(e).addToCart(r)},{default:a(()=>[...o[0]||(o[0]=[C(" 加入购物车 ",-1)])]),_:2},1032,["onClick"])]),_:2},1024)])),64)),o[3]||(o[3]=n("h3",null,"购物车",-1)),n("ul",null,[(c(!0),d(h,null,k(s(e).items,r=>(c(),d("li",{key:r.id},[C(u(r.name)+" x "+u(r.quantity)+" ",1),t(x,{modelValue:r.quantity,"onUpdate:modelValue":v=>r.quantity=v,min:1},{default:a(()=>[t(m,{onClick:v=>s(e).removeFromCart(r.id)},{default:a(()=>[...o[1]||(o[1]=[C("删除",-1)])]),_:2},1032,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))]),n("p",null,[n("strong",null,"总价："+u(s(e).total),1)])])}}}),B=g({__name:"three",setup(f){const e=w(),{darkMode:_}=S(e),l=e.toggleTheme;return(o,m)=>{const p=i("el-switch");return c(),b(p,{value:s(_),"active-text":"深色模式","inactive-text":"浅色模式",onChange:s(l)},null,8,["value","onChange"])}}}),D=g({__name:"PiniaDemo",setup(f){return(e,_)=>{const l=i("el-card");return c(),d("div",null,[_[0]||(_[0]=n("h2",null,"Pinia状态管理库",-1)),t(l,null,{default:a(()=>[t($)]),_:1}),t(l,null,{default:a(()=>[t(q)]),_:1}),t(l,null,{default:a(()=>[t(B)]),_:1})])}}});export{D as default};
