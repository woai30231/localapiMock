import{d as v,k as F,r as f,c as x,a as i,e as t,f as m,w as u,j as C,x as b,M as w,o as y,B as U,l as k}from"./index-XMO9d-si.js";import{r as P}from"./request-BNalSjFW.js";const h={action:"/api/signup",method:"POST"},z=v({__name:"RegisterForm",setup(V,{expose:p}){const _={username:[{required:!0,message:"Please input your username",trigger:"blur"},{min:3,max:50,message:"Length should be between 3 and 50",trigger:"blur"}],email:[{required:!0,message:"Please input your email",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:"blur"}],password:[{required:!0,message:"Please input your password",trigger:"blur"},{min:6,message:"Password must be at least 6 characters long",trigger:"blur"}]},e=F({username:"",email:"",password:""}),s=f(null),g=()=>{s.value.validate(async d=>{if(d){console.log("Form submitted;",e);const{username:l,email:o,password:a}=e,r=new FormData;r.append("username",l),r.append("email",o),r.append("password",a);const c=await P.post("/api/signup",r);console.log(c)}else return console.log("Form validation failed"),!1})};return p({submitForm:g,form:e}),(d,l)=>{const o=m("el-input"),a=m("el-form-item"),r=m("el-button"),c=m("el-form");return y(),x("div",null,[l[8]||(l[8]=i("h1",null,"Register Form",-1)),t(c,{model:e,rules:_,ref_key:"registerForm",ref:s,"label-width":"100px"},{default:u(()=>[t(a,{label:"Username",prop:"username"},{default:u(()=>[t(o,{modelValue:e.username,"onUpdate:modelValue":l[0]||(l[0]=n=>e.username=n)},null,8,["modelValue"])]),_:1}),t(a,{label:"Email",prop:"email"},{default:u(()=>[t(o,{modelValue:e.email,"onUpdate:modelValue":l[1]||(l[1]=n=>e.email=n)},null,8,["modelValue"])]),_:1}),t(a,{label:"Password",prop:"password"},{default:u(()=>[t(o,{modelValue:e.password,"onUpdate:modelValue":l[2]||(l[2]=n=>e.password=n),type:"password"},null,8,["modelValue"])]),_:1}),t(a,null,{default:u(()=>[t(r,{type:"primary",onClick:g},{default:u(()=>l[6]||(l[6]=[C("Submit",-1)])),_:1,__:[6]})]),_:1})]),_:1},8,["model"]),i("form",h,[b(i("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=n=>e.username=n),name:"username"},null,512),[[w,e.username]]),b(i("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=n=>e.email=n),name:"email"},null,512),[[w,e.email]]),b(i("input",{type:"password","onUpdate:modelValue":l[5]||(l[5]=n=>e.password=n),name:"password"},null,512),[[w,e.password]]),l[7]||(l[7]=i("input",{type:"submit",text:"提交"},null,-1))])])}}}),M=v({__name:"UserList",setup(V){const p=Array.from({length:100},(o,a)=>({id:a+1,name:`User ${a+1}`,email:`${a+1}@example.com`,age:Math.floor(Math.random()*100)})),_=f(100),e=f(1),s=f(10),g=o=>{s.value=o,e.value=1},d=o=>{e.value=o},l=U(()=>{const o=(e.value-1)*s.value,a=o+s.value;return p.slice(o,a)});return(o,a)=>{const r=m("el-table-column"),c=m("el-table"),n=m("el-pagination");return y(),x("div",null,[a[0]||(a[0]=i("h1",null," User List ",-1)),t(c,{data:l.value,style:{width:"540px"}},{default:u(()=>[t(r,{prop:"name",label:"Name",width:"180"}),t(r,{prop:"email",label:"Email",width:"180"}),t(r,{prop:"age",label:"Age",width:"180"})]),_:1},8,["data"]),t(n,{onSizeChange:g,onCurrentChange:d,"current-page":e.value,"page-sizes":[10,20,30,40],"page-size":s.value,layout:"total,sizes,prev,pager,next,jumper",total:_.value},null,8,["current-page","page-size","total"])])}}}),q=v({__name:"TspracticeThree",setup(V){const p=f(null),_=()=>{p.value?.submitForm(),console.log(p.value?.form)};return k(()=>{}),(e,s)=>{const g=m("el-button"),d=m("el-card");return y(),x("div",null,[s[1]||(s[1]=i("h1",null,"ts 组件化项目演示",-1)),t(d,null,{default:u(()=>[t(z,{ref_key:"childForm",ref:p},null,512),t(g,{onClick:_},{default:u(()=>s[0]||(s[0]=[C("点击",-1)])),_:1,__:[0]})]),_:1}),t(d,null,{default:u(()=>[t(M)]),_:1})])}}});export{q as default};
