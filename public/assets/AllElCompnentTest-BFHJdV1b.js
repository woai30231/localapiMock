import{r as b}from"./request-COUrp6e7.js";import{e as m,d,c as g,a as e,r,w as l,b as c,f as y,o as v,t as w,E as F,F as C,_ as k}from"./index-Cr-NJ8us.js";const x={uploadFile:p=>b.post("/api/upload/secure",p,{headers:{"Content-Type":"multipart/form-data"}}),getObjlist:p=>b.get("/api/objlist",{params:p})},O=["src"],j=m({__name:"upload",setup(p){const _=d(!1),n=d(),f=d({src:""}),a=async t=>{const s=t.target;if(s.files&&s.files[0]){n.value=s.files[0],console.log("选择的文件:",n.value);try{_.value=!0;const o=new FormData;o.append("file",n.value);const u=await x.uploadFile(o);console.log("上传成功:",u),u.code===200&&(console.log("文件路径:",u.data.path),f.value.src=URL.createObjectURL(n.value))}catch(o){console.error("上传失败:",o)}finally{_.value=!1}}};return(t,s)=>{const o=r("el-text"),u=r("el-row");return v(),g("div",null,[e(u,null,{default:l(()=>[e(o,{type:"info",size:"large"},{default:l(()=>s[1]||(s[1]=[c("原生input图片文件上传调用示例",-1)])),_:1,__:[1]})]),_:1}),e(u,null,{default:l(()=>[y("input",{accept:"image/*",type:"file",onChange:s[0]||(s[0]=i=>a(i))},null,32)]),_:1}),e(u,null,{default:l(()=>[y("img",{class:"imgSty",src:f.value.src,alt:"上传的图片"},null,8,O)]),_:1})])}}}),E=m({__name:"elupload",setup(p){const _=d(!1),n=d(""),f=async()=>{try{_.value=!0;const a=await x.getObjlist({name:"xiaoming"}),t=JSON.stringify(a.data);n.value=t}catch(a){console.log("错误：",a),F.error("错误信息："+a)}finally{_.value=!1}};return(a,t)=>{const s=r("el-text"),o=r("el-row"),u=r("el-button"),i=r("el-col");return v(),g("div",null,[e(o,null,{default:l(()=>[e(s,{type:"info",size:"large"},{default:l(()=>t[0]||(t[0]=[c("按钮点击获取接口数据调用示例",-1)])),_:1,__:[0]})]),_:1}),e(o,null,{default:l(()=>[e(u,{onClick:f},{default:l(()=>t[1]||(t[1]=[c("获取数据",-1)])),_:1,__:[1]})]),_:1}),e(o,null,{default:l(()=>[e(i,{span:4},{default:l(()=>t[2]||(t[2]=[c("返回的数据:",-1)])),_:1,__:[2]}),e(i,{span:20},{default:l(()=>[c(w(n.value),1)]),_:1})]),_:1})])}}}),L=m({__name:"elplusupload",setup(p){const _=d(!1),n=d(""),f=async()=>{try{_.value=!0;const a=await x.getObjlist({name:"xiaoming"}),t=JSON.stringify(a.data);n.value=t}catch(a){console.log("错误：",a),F.error("错误信息："+a)}finally{_.value=!1}};return(a,t)=>{const s=r("el-text"),o=r("el-row"),u=r("el-button"),i=r("el-col");return v(),g("div",null,[e(o,null,{default:l(()=>[e(s,{type:"info",size:"large"},{default:l(()=>t[0]||(t[0]=[c("element-plus库的el-upload组件实现文件上传图片调用示例",-1)])),_:1,__:[0]})]),_:1}),e(o,null,{default:l(()=>[e(u,{onClick:f},{default:l(()=>t[1]||(t[1]=[c("获取数据",-1)])),_:1,__:[1]})]),_:1}),e(o,null,{default:l(()=>[e(i,{span:4},{default:l(()=>t[2]||(t[2]=[c("返回的数据:",-1)])),_:1,__:[2]}),e(i,{span:20},{default:l(()=>[c(w(n.value),1)]),_:1})]),_:1})])}}}),N=m({__name:"AllElCompnentTest",setup(p){return(_,n)=>(v(),g(C,null,[n[0]||(n[0]=y("h3",null,"element plus所有组件库带功能测试",-1)),e(j,{class:"blockItem"}),e(E,{class:"blockItem"}),e(L)],64))}}),T=k(N,[["__scopeId","data-v-6f74966f"]]);export{T as default};
